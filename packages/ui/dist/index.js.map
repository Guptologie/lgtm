{"version":3,"sources":["../src/context/AdapterContext.tsx","../src/context/AuthProvider.tsx","../src/context/DashboardContext.tsx","../src/defaults/default-sections.ts","../src/context/UnreadContext.tsx","../src/context/CurrentUserContext.tsx","../src/components/ErrorBoundary.tsx","../src/components/AuthGate.tsx","../src/components/common/Spinner.tsx","../src/components/PRDashboard.tsx","../src/components/Section/PRSection.tsx","../src/hooks/useSectionData.ts","../src/api/graphql-client.ts","../src/api/transforms.ts","../src/api/rate-limiter.ts","../src/utils/query-preprocessor.ts","../src/hooks/useSortedPRs.ts","../src/components/Section/SectionHeader.tsx","../src/components/Section/ColumnHeaders.tsx","../src/hooks/useRelativeTime.ts","../src/components/common/Avatar.tsx","../src/components/common/StatusIcon.tsx","../src/components/PRRow.tsx","../src/components/common/EmptyState.tsx","../src/components/SettingsModal.tsx","../src/components/ThemeWrapper.tsx","../src/components/LGTM.tsx"],"sourcesContent":["import { createContext, useContext, type ReactNode } from \"react\";\nimport type { StorageAdapter, AuthAdapter } from \"../types\";\n\ninterface AdapterContextValue {\n  storage: StorageAdapter;\n  auth: AuthAdapter;\n}\n\nconst AdapterContext = createContext<AdapterContextValue | null>(null);\n\ninterface AdapterProviderProps {\n  storage: StorageAdapter;\n  auth: AuthAdapter;\n  children: ReactNode;\n}\n\nexport function AdapterProvider({\n  storage,\n  auth,\n  children,\n}: AdapterProviderProps) {\n  return (\n    <AdapterContext.Provider value={{ storage, auth }}>\n      {children}\n    </AdapterContext.Provider>\n  );\n}\n\nexport function useAdapters(): AdapterContextValue {\n  const context = useContext(AdapterContext);\n  if (!context) {\n    throw new Error(\"useAdapters must be used within an AdapterProvider\");\n  }\n  return context;\n}\n","import {\n  createContext,\n  useContext,\n  useState,\n  useEffect,\n  useCallback,\n  type ReactNode,\n} from \"react\";\nimport { useAdapters } from \"./AdapterContext\";\n\ninterface AuthContextValue {\n  token: string | null;\n  isLoading: boolean;\n  setToken: (token: string) => Promise<void>;\n  clearToken: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextValue | null>(null);\n\ninterface AuthProviderProps {\n  children: ReactNode;\n}\n\nexport function AuthProvider({ children }: AuthProviderProps) {\n  const { auth } = useAdapters();\n  const [token, setTokenState] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    let cancelled = false;\n\n    auth.getToken().then((t) => {\n      if (!cancelled) {\n        setTokenState(t);\n        setIsLoading(false);\n      }\n    });\n\n    const unsubscribe = auth.onTokenChange((t) => {\n      if (!cancelled) {\n        setTokenState(t);\n      }\n    });\n\n    return () => {\n      cancelled = true;\n      unsubscribe();\n    };\n  }, [auth]);\n\n  const setToken = useCallback(\n    async (newToken: string) => {\n      await auth.setToken(newToken);\n      setTokenState(newToken);\n    },\n    [auth]\n  );\n\n  const clearToken = useCallback(async () => {\n    await auth.clearToken();\n    setTokenState(null);\n  }, [auth]);\n\n  return (\n    <AuthContext.Provider value={{ token, isLoading, setToken, clearToken }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuthContext(): AuthContextValue {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error(\"useAuthContext must be used within an AuthProvider\");\n  }\n  return context;\n}\n","import {\n  createContext,\n  useContext,\n  useReducer,\n  useEffect,\n  useRef,\n  type ReactNode,\n  type Dispatch,\n} from \"react\";\nimport { useAdapters } from \"./AdapterContext\";\nimport type { SectionConfig, DashboardSettings } from \"../types\";\nimport { defaultSections } from \"../defaults/default-sections\";\n\ninterface DashboardState {\n  sections: SectionConfig[];\n  settings: DashboardSettings;\n}\n\nexport type DashboardAction =\n  | { type: \"ADD_SECTION\"; payload: SectionConfig }\n  | { type: \"UPDATE_SECTION\"; payload: { id: string; updates: Partial<SectionConfig> } }\n  | { type: \"DELETE_SECTION\"; payload: { id: string } }\n  | { type: \"REORDER_SECTIONS\"; payload: { sectionIds: string[] } }\n  | { type: \"UPDATE_SETTINGS\"; payload: Partial<DashboardSettings> }\n  | { type: \"LOAD\"; payload: DashboardState };\n\nconst defaultSettings: DashboardSettings = {\n  theme: \"auto\",\n};\n\nfunction dashboardReducer(\n  state: DashboardState,\n  action: DashboardAction\n): DashboardState {\n  switch (action.type) {\n    case \"ADD_SECTION\":\n      return {\n        ...state,\n        sections: [...state.sections, action.payload],\n      };\n\n    case \"UPDATE_SECTION\":\n      return {\n        ...state,\n        sections: state.sections.map((s) =>\n          s.id === action.payload.id ? { ...s, ...action.payload.updates } : s\n        ),\n      };\n\n    case \"DELETE_SECTION\":\n      return {\n        ...state,\n        sections: state.sections.filter((s) => s.id !== action.payload.id),\n      };\n\n    case \"REORDER_SECTIONS\": {\n      const orderMap = new Map(\n        action.payload.sectionIds.map((id, index) => [id, index])\n      );\n      return {\n        ...state,\n        sections: state.sections\n          .map((s) => ({\n            ...s,\n            order: orderMap.get(s.id) ?? s.order,\n          }))\n          .sort((a, b) => a.order - b.order),\n      };\n    }\n\n    case \"UPDATE_SETTINGS\":\n      return {\n        ...state,\n        settings: { ...state.settings, ...action.payload },\n      };\n\n    case \"LOAD\":\n      return action.payload;\n\n    default:\n      return state;\n  }\n}\n\ninterface DashboardContextValue {\n  sections: SectionConfig[];\n  settings: DashboardSettings;\n  dispatch: Dispatch<DashboardAction>;\n}\n\nconst DashboardContext = createContext<DashboardContextValue | null>(null);\n\ninterface DashboardProviderProps {\n  children: ReactNode;\n}\n\nexport function DashboardProvider({ children }: DashboardProviderProps) {\n  const { storage } = useAdapters();\n  const [state, dispatch] = useReducer(dashboardReducer, {\n    sections: [],\n    settings: defaultSettings,\n  });\n  const initialLoadDone = useRef(false);\n  const saveTimeoutRef = useRef<ReturnType<typeof setTimeout>>();\n\n  // Load initial state from storage\n  useEffect(() => {\n    storage.load().then((saved) => {\n      if (saved) {\n        dispatch({\n          type: \"LOAD\",\n          payload: {\n            sections: saved.sections,\n            settings: saved.settings,\n          },\n        });\n      } else {\n        dispatch({\n          type: \"LOAD\",\n          payload: {\n            sections: defaultSections,\n            settings: defaultSettings,\n          },\n        });\n      }\n      initialLoadDone.current = true;\n    });\n\n    const unsubscribe = storage.onChange((dashboard) => {\n      dispatch({\n        type: \"LOAD\",\n        payload: {\n          sections: dashboard.sections,\n          settings: dashboard.settings,\n        },\n      });\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  }, [storage]);\n\n  // Debounced save after state changes\n  useEffect(() => {\n    if (!initialLoadDone.current) return;\n\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    saveTimeoutRef.current = setTimeout(() => {\n      storage.save({\n        version: 1,\n        sections: state.sections,\n        settings: state.settings,\n      });\n    }, 500);\n\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n    };\n  }, [state, storage]);\n\n  return (\n    <DashboardContext.Provider\n      value={{\n        sections: state.sections,\n        settings: state.settings,\n        dispatch,\n      }}\n    >\n      {children}\n    </DashboardContext.Provider>\n  );\n}\n\nexport function useDashboardContext(): DashboardContextValue {\n  const context = useContext(DashboardContext);\n  if (!context) {\n    throw new Error(\n      \"useDashboardContext must be used within a DashboardProvider\"\n    );\n  }\n  return context;\n}\n","import type { SectionConfig } from \"../types\";\n\nconst PR_FIELDS = `\n  ... on PullRequest {\n    id\n    number\n    title\n    url\n    repository { nameWithOwner }\n    author { login avatarUrl }\n    additions\n    deletions\n    changedFiles\n    reviewDecision\n    isDraft\n    state\n    mergeable\n    createdAt\n    updatedAt\n    labels(first: 10) { nodes { name color } }\n    reviews(last: 10) { nodes { author { login avatarUrl } state } }\n    latestReviews(first: 10) { nodes { author { login avatarUrl } state } }\n    commits(last: 1) {\n      nodes {\n        commit {\n          statusCheckRollup {\n            contexts(first: 50) {\n              nodes {\n                ... on CheckRun { name conclusion status }\n                ... on StatusContext { context state }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nfunction buildQuery(searchQuery: string): string {\n  return `query {\n  search(query: \"${searchQuery}\", type: ISSUE, first: 25) {\n    issueCount\n    edges {\n      node {\n        ${PR_FIELDS}\n      }\n    }\n  }\n}`;\n}\n\nexport const defaultSections: SectionConfig[] = [\n  {\n    id: \"needs-your-review\",\n    title: \"Needs your review\",\n    query: buildQuery(\n      \"is:pr is:open review-requested:{currentUser} archived:false\",\n    ),\n    sort: { field: \"updated\", direction: \"desc\" },\n    collapsed: false,\n    order: 0,\n  },\n  {\n    id: \"returned-to-you\",\n    title: \"Returned to you\",\n    query: buildQuery(\n      \"is:pr is:open author:{currentUser} review:approved archived:false\",\n    ),\n    sort: { field: \"updated\", direction: \"desc\" },\n    collapsed: false,\n    order: 1,\n  },\n  {\n    id: \"approved\",\n    title: \"Approved\",\n    query: buildQuery(\n      \"is:pr is:open author:{currentUser} review:approved archived:false\",\n    ),\n    sort: { field: \"updated\", direction: \"desc\" },\n    collapsed: false,\n    order: 2,\n  },\n  {\n    id: \"waiting-for-reviewers\",\n    title: \"Waiting for reviewers\",\n    query: buildQuery(\n      \"is:pr is:open author:{currentUser} review:required archived:false\",\n    ),\n    sort: { field: \"updated\", direction: \"desc\" },\n    collapsed: false,\n    order: 3,\n  },\n  {\n    id: \"drafts\",\n    title: \"Drafts\",\n    query: buildQuery(\n      \"is:pr is:open author:{currentUser} draft:true archived:false\",\n    ),\n    sort: { field: \"updated\", direction: \"desc\" },\n    collapsed: true,\n    order: 4,\n  },\n  {\n    id: \"waiting-for-author\",\n    title: \"Waiting for author\",\n    query: buildQuery(\n      \"is:pr is:open review-requested:{currentUser} review:changes_requested archived:false\",\n    ),\n    sort: { field: \"updated\", direction: \"desc\" },\n    collapsed: true,\n    order: 5,\n  },\n  {\n    id: \"recently-merged\",\n    title: \"Recently merged\",\n    query: buildQuery(\n      \"is:pr is:merged author:{currentUser} archived:false sort:updated-desc\",\n    ),\n    sort: { field: \"updated\", direction: \"desc\" },\n    collapsed: true,\n    order: 6,\n  },\n];\n","import {\n  createContext,\n  useContext,\n  useState,\n  useEffect,\n  useCallback,\n  useRef,\n  type ReactNode,\n} from \"react\";\nimport { useAuthContext } from \"./AuthProvider\";\n\ninterface UnreadContextValue {\n  unreadUrls: Set<string>;\n  refresh: () => void;\n}\n\nconst UnreadContext = createContext<UnreadContextValue | null>(null);\n\nconst POLL_INTERVAL_MS = 60_000;\n\ninterface UnreadProviderProps {\n  children: ReactNode;\n}\n\nexport function UnreadProvider({ children }: UnreadProviderProps) {\n  const { token } = useAuthContext();\n  const [unreadUrls, setUnreadUrls] = useState<Set<string>>(new Set());\n  const intervalRef = useRef<ReturnType<typeof setInterval>>();\n\n  const fetchUnread = useCallback(async () => {\n    if (!token) {\n      setUnreadUrls(new Set());\n      return;\n    }\n\n    try {\n      const response = await fetch(\n        \"https://api.github.com/notifications?participating=true&all=false\",\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            Accept: \"application/vnd.github+json\",\n            \"User-Agent\": \"lgtm-dashboard\",\n          },\n        }\n      );\n\n      if (!response.ok) return;\n\n      const notifications: Array<{\n        subject: { type: string; url: string };\n        unread: boolean;\n      }> = await response.json();\n\n      const urls = new Set<string>();\n      for (const notification of notifications) {\n        if (\n          notification.unread &&\n          notification.subject.type === \"PullRequest\"\n        ) {\n          // Convert API URL to HTML URL\n          // API: https://api.github.com/repos/owner/repo/pulls/123\n          // HTML: https://github.com/owner/repo/pull/123\n          const htmlUrl = notification.subject.url\n            .replace(\"https://api.github.com/repos/\", \"https://github.com/\")\n            .replace(\"/pulls/\", \"/pull/\");\n          urls.add(htmlUrl);\n        }\n      }\n\n      setUnreadUrls(urls);\n    } catch {\n      // Silently fail - unread status is non-critical\n    }\n  }, [token]);\n\n  const refresh = useCallback(() => {\n    fetchUnread();\n  }, [fetchUnread]);\n\n  useEffect(() => {\n    fetchUnread();\n\n    intervalRef.current = setInterval(fetchUnread, POLL_INTERVAL_MS);\n\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    };\n  }, [fetchUnread]);\n\n  return (\n    <UnreadContext.Provider value={{ unreadUrls, refresh }}>\n      {children}\n    </UnreadContext.Provider>\n  );\n}\n\nexport function useUnreadContext(): UnreadContextValue {\n  const context = useContext(UnreadContext);\n  if (!context) {\n    throw new Error(\"useUnreadContext must be used within an UnreadProvider\");\n  }\n  return context;\n}\n","import { createContext, useContext, type ReactNode } from \"react\";\n\nconst CurrentUserContext = createContext<string>(\"\");\n\ninterface CurrentUserProviderProps {\n  currentUser: string;\n  children: ReactNode;\n}\n\nexport function CurrentUserProvider({\n  currentUser,\n  children,\n}: CurrentUserProviderProps) {\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      {children}\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport function useCurrentUser(): string {\n  return useContext(CurrentUserContext);\n}\n","import { Component, type ReactNode, type ErrorInfo } from \"react\";\n\ninterface ErrorBoundaryProps {\n  onError?: (error: Error) => void;\n  children: ReactNode;\n}\n\ninterface ErrorBoundaryState {\n  hasError: boolean;\n  error: Error | null;\n}\n\nexport class ErrorBoundary extends Component<\n  ErrorBoundaryProps,\n  ErrorBoundaryState\n> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo): void {\n    console.error(\"[LGTM] Render error:\", error, errorInfo);\n    this.props.onError?.(error);\n  }\n\n  handleRetry = () => {\n    this.setState({ hasError: false, error: null });\n  };\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div className=\"lgtm-error-boundary\">\n          <div className=\"lgtm-error-boundary__card\">\n            <p className=\"lgtm-error-boundary__title\">Something went wrong</p>\n            <p className=\"lgtm-error-boundary__message\">\n              {this.state.error?.message ?? \"An unexpected error occurred.\"}\n            </p>\n            <button\n              className=\"lgtm-error-boundary__retry\"\n              onClick={this.handleRetry}\n            >\n              Retry\n            </button>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n","import React, { useState, type ReactNode } from \"react\";\nimport { useAuthContext } from \"../context/AuthProvider\";\nimport { Spinner } from \"./common/Spinner\";\n\ninterface AuthGateProps {\n  children: ReactNode;\n}\n\nexport function AuthGate({ children }: AuthGateProps) {\n  const { token, isLoading, setToken } = useAuthContext();\n  const [inputValue, setInputValue] = useState(\"\");\n  const [isSaving, setIsSaving] = useState(false);\n\n  if (isLoading) {\n    return (\n      <div className=\"lgtm-auth-gate__loading\">\n        <Spinner size=\"lg\" />\n      </div>\n    );\n  }\n\n  if (token) {\n    return <>{children}</>;\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const trimmed = inputValue.trim();\n    if (!trimmed) return;\n\n    setIsSaving(true);\n    try {\n      await setToken(trimmed);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"lgtm-auth-gate\">\n      <div className=\"lgtm-auth-gate__card\">\n        <h2 className=\"lgtm-auth-gate__title\">Welcome to LGTM</h2>\n        <p className=\"lgtm-auth-gate__desc\">\n          Connect your GitHub account to see your pull requests.\n        </p>\n\n        <form onSubmit={handleSubmit}>\n          <label className=\"lgtm-auth-gate__label\" htmlFor=\"lgtm-token-input\">\n            GitHub Personal Access Token\n          </label>\n          <input\n            id=\"lgtm-token-input\"\n            className=\"lgtm-auth-gate__input\"\n            type=\"password\"\n            placeholder=\"ghp_...\"\n            value={inputValue}\n            onChange={(e) => setInputValue(e.target.value)}\n            autoComplete=\"off\"\n            spellCheck={false}\n          />\n          <button\n            className=\"lgtm-auth-gate__submit\"\n            type=\"submit\"\n            disabled={!inputValue.trim() || isSaving}\n          >\n            {isSaving ? \"Saving...\" : \"Save Token\"}\n          </button>\n        </form>\n\n        <div className=\"lgtm-auth-gate__instructions\">\n          <strong>How to create a token:</strong>\n          <ol>\n            <li>\n              Go to{\" \"}\n              <a\n                href=\"https://github.com/settings/tokens/new\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                GitHub Token Settings\n              </a>\n            </li>\n            <li>Select scopes: <code>repo</code>, <code>read:org</code>, <code>notifications</code></li>\n            <li>Generate and paste the token above</li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  );\n}\n","\ninterface SpinnerProps {\n  size?: \"sm\" | \"md\" | \"lg\";\n}\n\nexport function Spinner({ size = \"md\" }: SpinnerProps) {\n  const className =\n    size === \"sm\"\n      ? \"lgtm-spinner lgtm-spinner--sm\"\n      : size === \"lg\"\n        ? \"lgtm-spinner lgtm-spinner--lg\"\n        : \"lgtm-spinner\";\n\n  return <span className={className} role=\"status\" aria-label=\"Loading\" />;\n}\n","import { useState, useMemo } from \"react\";\nimport { useDashboardContext } from \"../context/DashboardContext\";\nimport { PRSection } from \"./Section/PRSection\";\nimport { SettingsModal } from \"./SettingsModal\";\n\nexport function PRDashboard() {\n  const { sections } = useDashboardContext();\n  const [showSettings, setShowSettings] = useState(false);\n\n  const sortedSections = useMemo(\n    () => [...sections].sort((a, b) => a.order - b.order),\n    [sections]\n  );\n\n  return (\n    <>\n      <header className=\"lgtm-header\">\n        <h1 className=\"lgtm-header__title\">LGTM</h1>\n        <div className=\"lgtm-header__actions\">\n          <button\n            className=\"lgtm-btn lgtm-btn--icon lgtm-btn--ghost\"\n            onClick={() => setShowSettings(true)}\n            title=\"Settings\"\n          >\n            &#9881;\n          </button>\n        </div>\n      </header>\n\n      {sortedSections.map((section) => (\n        <PRSection key={section.id} config={section} />\n      ))}\n\n      {showSettings && (\n        <SettingsModal onClose={() => setShowSettings(false)} />\n      )}\n    </>\n  );\n}\n","import { useCallback } from \"react\";\nimport type { SectionConfig, SortField } from \"../../types\";\nimport { useSectionData } from \"../../hooks/useSectionData\";\nimport { useSortedPRs } from \"../../hooks/useSortedPRs\";\nimport { useDashboardContext } from \"../../context/DashboardContext\";\nimport { useCurrentUser } from \"../../context/CurrentUserContext\";\nimport { SectionHeader } from \"./SectionHeader\";\nimport { ColumnHeaders } from \"./ColumnHeaders\";\nimport { PRRow } from \"../PRRow\";\nimport { Spinner } from \"../common/Spinner\";\nimport { EmptyState } from \"../common/EmptyState\";\n\ninterface PRSectionProps {\n  config: SectionConfig;\n}\n\nexport function PRSection({ config }: PRSectionProps) {\n  const currentUser = useCurrentUser();\n  const { dispatch } = useDashboardContext();\n  const { prs, totalCount, isLoading, error, refresh } = useSectionData(\n    config,\n    currentUser\n  );\n  const sortedPRs = useSortedPRs(prs, config.sort);\n\n  const handleToggleCollapse = useCallback(() => {\n    dispatch({\n      type: \"UPDATE_SECTION\",\n      payload: {\n        id: config.id,\n        updates: { collapsed: !config.collapsed },\n      },\n    });\n  }, [dispatch, config.id, config.collapsed]);\n\n  const handleSortChange = useCallback(\n    (field: SortField) => {\n      const direction =\n        config.sort.field === field && config.sort.direction === \"desc\"\n          ? \"asc\"\n          : \"desc\";\n      dispatch({\n        type: \"UPDATE_SECTION\",\n        payload: {\n          id: config.id,\n          updates: { sort: { field, direction } },\n        },\n      });\n    },\n    [dispatch, config.id, config.sort]\n  );\n\n  return (\n    <div className=\"lgtm-section\">\n      <SectionHeader\n        title={config.title}\n        count={totalCount}\n        collapsed={config.collapsed}\n        onToggleCollapse={handleToggleCollapse}\n        sort={config.sort}\n        onSortChange={handleSortChange}\n        onRefresh={refresh}\n        isLoading={isLoading}\n      />\n\n      {!config.collapsed && (\n        <>\n          {isLoading && prs.length === 0 ? (\n            <div className=\"lgtm-section__loading\">\n              <Spinner />\n            </div>\n          ) : error ? (\n            <div className=\"lgtm-section__error\">\n              <span>{error.message}</span>\n              <button className=\"lgtm-section__error-btn\" onClick={refresh}>\n                Retry\n              </button>\n            </div>\n          ) : sortedPRs.length === 0 ? (\n            <EmptyState />\n          ) : (\n            <>\n              <ColumnHeaders sort={config.sort} onSortChange={handleSortChange} />\n              {sortedPRs.map((pr) => (\n                <PRRow key={pr.id} pr={pr} />\n              ))}\n            </>\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n","import { useState, useEffect, useCallback, useRef } from \"react\";\nimport type { SectionConfig, NormalizedPR } from \"../types\";\nimport { useAuthContext } from \"../context/AuthProvider\";\nimport { useUnreadContext } from \"../context/UnreadContext\";\nimport { executeQuery } from \"../api/graphql-client\";\nimport { transformResponse } from \"../api/transforms\";\nimport { RateLimiter } from \"../api/rate-limiter\";\nimport { preprocessQuery } from \"../utils/query-preprocessor\";\n\nconst rateLimiter = new RateLimiter(3, 200);\n\ninterface UseSectionDataResult {\n  prs: NormalizedPR[];\n  totalCount: number;\n  isLoading: boolean;\n  error: Error | null;\n  refresh: () => Promise<void>;\n}\n\nexport function useSectionData(\n  config: SectionConfig,\n  currentUser: string\n): UseSectionDataResult {\n  const { token } = useAuthContext();\n  const { unreadUrls } = useUnreadContext();\n  const [prs, setPrs] = useState<NormalizedPR[]>([]);\n  const [totalCount, setTotalCount] = useState(0);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<Error | null>(null);\n  const abortControllerRef = useRef<AbortController>();\n\n  const fetchData = useCallback(async () => {\n    if (!token) {\n      setIsLoading(false);\n      return;\n    }\n\n    // Abort any in-flight request\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n    }\n\n    const abortController = new AbortController();\n    abortControllerRef.current = abortController;\n\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const processedQuery = preprocessQuery(config.query, currentUser);\n\n      const data = await rateLimiter.enqueue(async () => {\n        if (abortController.signal.aborted) {\n          throw new DOMException(\"Aborted\", \"AbortError\");\n        }\n        return executeQuery(processedQuery, token);\n      });\n\n      if (abortController.signal.aborted) return;\n\n      const normalized = transformResponse(data);\n      const withUnread = normalized.map((pr) => ({\n        ...pr,\n        isUnread: unreadUrls.has(pr.url),\n      }));\n\n      setPrs(withUnread);\n      setTotalCount(data?.search?.issueCount ?? withUnread.length);\n      setIsLoading(false);\n    } catch (err) {\n      if (err instanceof DOMException && err.name === \"AbortError\") return;\n      if (abortController.signal.aborted) return;\n\n      setError(err instanceof Error ? err : new Error(String(err)));\n      setIsLoading(false);\n    }\n  }, [token, config.query, currentUser, unreadUrls]);\n\n  useEffect(() => {\n    fetchData();\n\n    return () => {\n      if (abortControllerRef.current) {\n        abortControllerRef.current.abort();\n      }\n    };\n  }, [fetchData]);\n\n  const refresh = useCallback(async () => {\n    await fetchData();\n  }, [fetchData]);\n\n  return { prs, totalCount, isLoading, error, refresh };\n}\n","interface GraphQLResponse {\n  data?: any;\n  errors?: Array<{ message: string }>;\n}\n\nexport async function executeQuery(\n  query: string,\n  token: string,\n  variables?: Record<string, unknown>\n): Promise<any> {\n  const response = await fetch(\"https://api.github.com/graphql\", {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"Content-Type\": \"application/json\",\n      \"User-Agent\": \"lgtm-dashboard\",\n    },\n    body: JSON.stringify({ query, variables }),\n  });\n\n  if (!response.ok) {\n    throw new Error(`GitHub API error: ${response.status} ${response.statusText}`);\n  }\n\n  const json: GraphQLResponse = await response.json();\n\n  if (json.errors?.length) {\n    throw new Error(`GraphQL error: ${json.errors.map((e) => e.message).join(\", \")}`);\n  }\n\n  return json.data;\n}\n","import type { NormalizedPR, CIState, CICheck, PRReviewer } from \"../types/pull-request\";\n\nfunction computeCIState(contexts: Array<{ state?: string; conclusion?: string | null; status?: string }>): CIState {\n  if (contexts.length === 0) return \"NONE\";\n\n  let hasPending = false;\n\n  for (const ctx of contexts) {\n    const conclusion = ctx.conclusion?.toUpperCase();\n    const state = ctx.state?.toUpperCase() ?? ctx.status?.toUpperCase();\n\n    if (conclusion === \"FAILURE\" || conclusion === \"ERROR\" || state === \"FAILURE\" || state === \"ERROR\") {\n      return \"FAILURE\";\n    }\n\n    if (state === \"PENDING\" || state === \"QUEUED\" || state === \"IN_PROGRESS\" || conclusion === null) {\n      hasPending = true;\n    }\n  }\n\n  if (hasPending) return \"PENDING\";\n  return \"SUCCESS\";\n}\n\nfunction extractRepo(url: string): string {\n  // Extract \"owner/repo\" from a GitHub PR URL like https://github.com/owner/repo/pull/123\n  const match = url.match(/github\\.com\\/([^/]+\\/[^/]+)/);\n  return match ? match[1] : \"\";\n}\n\nfunction normalizePR(node: any): NormalizedPR {\n  const reviewNodes: any[] = node.reviews?.nodes ?? [];\n  const reviewerMap = new Map<string, PRReviewer>();\n  for (const review of reviewNodes) {\n    if (!review.author?.login) continue;\n    // Keep the latest review state per reviewer\n    reviewerMap.set(review.author.login, {\n      login: review.author.login,\n      avatarUrl: review.author.avatarUrl ?? \"\",\n      state: review.state ?? \"COMMENTED\",\n    });\n  }\n\n  const ciContexts: any[] = node.commits?.nodes?.[0]?.commit?.statusCheckRollup?.contexts?.nodes ?? [];\n  const ciChecks: CICheck[] = ciContexts.map((ctx: any) => ({\n    name: ctx.name ?? ctx.context ?? \"unknown\",\n    status: (ctx.conclusion ?? ctx.state ?? \"PENDING\").toUpperCase() as CICheck[\"status\"],\n    conclusion: ctx.conclusion ?? null,\n  }));\n\n  const ciState = computeCIState(ciContexts);\n\n  const labels: Array<{ name: string; color: string }> = (node.labels?.nodes ?? []).map((l: any) => ({\n    name: l.name ?? \"\",\n    color: l.color ?? \"\",\n  }));\n\n  return {\n    id: node.id ?? \"\",\n    number: node.number ?? 0,\n    title: node.title ?? \"\",\n    url: node.url ?? \"\",\n    repo: node.repository?.nameWithOwner ?? extractRepo(node.url ?? \"\"),\n\n    state: node.state ?? \"OPEN\",\n    isDraft: node.isDraft ?? false,\n\n    author: {\n      login: node.author?.login ?? \"\",\n      avatarUrl: node.author?.avatarUrl ?? \"\",\n    },\n\n    additions: node.additions ?? 0,\n    deletions: node.deletions ?? 0,\n    changedFiles: node.changedFiles ?? 0,\n\n    reviewDecision: node.reviewDecision ?? null,\n    reviewers: Array.from(reviewerMap.values()),\n\n    ciState,\n    ciChecks,\n\n    mergeable: node.mergeable ?? \"UNKNOWN\",\n\n    labels,\n    createdAt: node.createdAt ?? \"\",\n    updatedAt: node.updatedAt ?? \"\",\n    isUnread: false,\n  };\n}\n\nexport function transformResponse(data: any): NormalizedPR[] {\n  if (!data?.search) return [];\n\n  // Support both edges[].node and nodes[] response shapes\n  const edges: any[] = data.search.edges ?? [];\n  const nodes: any[] = data.search.nodes ?? [];\n\n  const prNodes = edges.length > 0 ? edges.map((e: any) => e.node) : nodes;\n\n  return prNodes.filter(Boolean).map(normalizePR);\n}\n","export class RateLimiter {\n  private queue: Array<{ fn: () => Promise<any>; resolve: (v: any) => void; reject: (e: any) => void }> = [];\n  private active = 0;\n  private lastRequestTime = 0;\n  private readonly maxConcurrent: number;\n  private readonly minSpacing: number;\n\n  constructor(maxConcurrent = 3, minSpacing = 200) {\n    this.maxConcurrent = maxConcurrent;\n    this.minSpacing = minSpacing;\n  }\n\n  async enqueue<T>(fn: () => Promise<T>): Promise<T> {\n    return new Promise((resolve, reject) => {\n      this.queue.push({ fn, resolve, reject });\n      this.processQueue();\n    });\n  }\n\n  private async processQueue(): Promise<void> {\n    if (this.active >= this.maxConcurrent || this.queue.length === 0) return;\n\n    const now = Date.now();\n    const timeSinceLast = now - this.lastRequestTime;\n    if (timeSinceLast < this.minSpacing) {\n      setTimeout(() => this.processQueue(), this.minSpacing - timeSinceLast);\n      return;\n    }\n\n    const item = this.queue.shift()!;\n    this.active++;\n    this.lastRequestTime = Date.now();\n\n    try {\n      const result = await item.fn();\n      item.resolve(result);\n    } catch (error) {\n      item.reject(error);\n    } finally {\n      this.active--;\n      this.processQueue();\n    }\n  }\n}\n","export function preprocessQuery(query: string, currentUser: string): string {\n  return query.replace(/\\{currentUser\\}/g, currentUser);\n}\n","import { useMemo } from \"react\";\nimport type { NormalizedPR, SortConfig, CIState } from \"../types\";\n\nconst ciStateOrder: Record<CIState, number> = {\n  FAILURE: 0,\n  PENDING: 1,\n  SUCCESS: 2,\n  NONE: 3,\n};\n\nconst reviewStateOrder: Record<string, number> = {\n  CHANGES_REQUESTED: 0,\n  REVIEW_REQUIRED: 1,\n  APPROVED: 2,\n};\n\nfunction comparePRs(a: NormalizedPR, b: NormalizedPR, field: string): number {\n  switch (field) {\n    case \"updated\":\n      return new Date(a.updatedAt).getTime() - new Date(b.updatedAt).getTime();\n    case \"created\":\n      return new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime();\n    case \"lines\":\n      return a.additions + a.deletions - (b.additions + b.deletions);\n    case \"reviewState\": {\n      const aOrder = a.reviewDecision\n        ? (reviewStateOrder[a.reviewDecision] ?? 3)\n        : 3;\n      const bOrder = b.reviewDecision\n        ? (reviewStateOrder[b.reviewDecision] ?? 3)\n        : 3;\n      return aOrder - bOrder;\n    }\n    case \"ciState\":\n      return ciStateOrder[a.ciState] - ciStateOrder[b.ciState];\n    default:\n      return 0;\n  }\n}\n\nexport function useSortedPRs(\n  prs: NormalizedPR[],\n  sort: SortConfig\n): NormalizedPR[] {\n  return useMemo(() => {\n    const sorted = [...prs].sort((a, b) => comparePRs(a, b, sort.field));\n    if (sort.direction === \"desc\") {\n      sorted.reverse();\n    }\n    return sorted;\n  }, [prs, sort.field, sort.direction]);\n}\n","import type { SortField, SortConfig } from \"../../types\";\n\ninterface SectionHeaderProps {\n  title: string;\n  count: number;\n  collapsed: boolean;\n  onToggleCollapse: () => void;\n  sort: SortConfig;\n  onSortChange: (field: SortField) => void;\n  onRefresh: () => void;\n  isLoading: boolean;\n}\n\nconst sortOptions: { value: SortField; label: string }[] = [\n  { value: \"updated\", label: \"Updated\" },\n  { value: \"created\", label: \"Created\" },\n  { value: \"lines\", label: \"Lines\" },\n  { value: \"reviewState\", label: \"Review\" },\n  { value: \"ciState\", label: \"CI\" },\n];\n\nexport function SectionHeader({\n  title,\n  count,\n  collapsed,\n  onToggleCollapse,\n  sort,\n  onSortChange,\n  onRefresh,\n  isLoading,\n}: SectionHeaderProps) {\n  return (\n    <div className=\"lgtm-section__header\" onClick={onToggleCollapse}>\n      <span\n        className={`lgtm-section__chevron${collapsed ? \" lgtm-section__chevron--collapsed\" : \"\"}`}\n      >\n        &#9662;\n      </span>\n      <span className=\"lgtm-section__title\">{title}</span>\n      <span className=\"lgtm-section__count\">{count}</span>\n      <span className=\"lgtm-section__spacer\" />\n      <div\n        className=\"lgtm-section__actions\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <select\n          className=\"lgtm-section__sort-select\"\n          value={sort.field}\n          onChange={(e) => onSortChange(e.target.value as SortField)}\n          title=\"Sort by\"\n        >\n          {sortOptions.map((opt) => (\n            <option key={opt.value} value={opt.value}>\n              {opt.label}\n            </option>\n          ))}\n        </select>\n        <button\n          className={`lgtm-section__refresh-btn${isLoading ? \" lgtm-section__refresh-btn--loading\" : \"\"}`}\n          onClick={onRefresh}\n          title=\"Refresh\"\n          disabled={isLoading}\n        >\n          &#8635;\n        </button>\n      </div>\n    </div>\n  );\n}\n","import type { SortField, SortConfig } from \"../../types\";\n\ninterface ColumnHeadersProps {\n  sort: SortConfig;\n  onSortChange: (field: SortField) => void;\n}\n\ninterface Column {\n  label: string;\n  field: SortField | null;\n}\n\nconst columns: Column[] = [\n  { label: \"\", field: null }, // unread dot spacer\n  { label: \"\", field: null }, // avatar spacer\n  { label: \"Title\", field: null },\n  { label: \"CI\", field: \"ciState\" },\n  { label: \"Reviews\", field: \"reviewState\" },\n  { label: \"Merge\", field: null },\n  { label: \"Lines\", field: \"lines\" },\n  { label: \"Updated\", field: \"updated\" },\n];\n\nexport function ColumnHeaders({ sort, onSortChange }: ColumnHeadersProps) {\n  return (\n    <div className=\"lgtm-column-headers\">\n      {columns.map((col, i) => {\n        const isActive = col.field !== null && sort.field === col.field;\n        const isSortable = col.field !== null;\n        const cellClass = [\n          \"lgtm-column-headers__cell\",\n          isActive ? \"lgtm-column-headers__cell--active\" : \"\",\n          !isSortable ? \"lgtm-column-headers__cell--spacer\" : \"\",\n        ]\n          .filter(Boolean)\n          .join(\" \");\n\n        return (\n          <div\n            key={i}\n            className={cellClass}\n            onClick={\n              isSortable ? () => onSortChange(col.field!) : undefined\n            }\n          >\n            {col.label}\n            {isActive && (\n              <span className=\"lgtm-column-headers__sort-arrow\">\n                {sort.direction === \"asc\" ? \"\\u25B2\" : \"\\u25BC\"}\n              </span>\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n","import { useState, useEffect } from \"react\";\n\nconst SECOND = 1_000;\nconst MINUTE = 60 * SECOND;\nconst HOUR = 60 * MINUTE;\nconst DAY = 24 * HOUR;\n\nfunction formatRelativeTime(timestamp: string): string {\n  const diff = Date.now() - new Date(timestamp).getTime();\n\n  if (diff < MINUTE) return \"just now\";\n  if (diff < HOUR) return `${Math.floor(diff / MINUTE)}m ago`;\n  if (diff < DAY) return `${Math.floor(diff / HOUR)}h ago`;\n  if (diff < 30 * DAY) return `${Math.floor(diff / DAY)}d ago`;\n\n  return new Date(timestamp).toLocaleDateString(\"en-US\", {\n    month: \"short\",\n    day: \"numeric\",\n    year: \"numeric\",\n  });\n}\n\nexport function useRelativeTime(timestamp: string): string {\n  const [formatted, setFormatted] = useState(() =>\n    formatRelativeTime(timestamp)\n  );\n\n  useEffect(() => {\n    setFormatted(formatRelativeTime(timestamp));\n\n    const interval = setInterval(() => {\n      setFormatted(formatRelativeTime(timestamp));\n    }, 60_000);\n\n    return () => clearInterval(interval);\n  }, [timestamp]);\n\n  return formatted;\n}\n","\ninterface AvatarProps {\n  login: string;\n  avatarUrl: string;\n  size?: number;\n}\n\nexport function Avatar({ login, avatarUrl, size = 24 }: AvatarProps) {\n  return (\n    <span\n      className=\"lgtm-avatar\"\n      style={{ width: size, height: size }}\n      title={login}\n    >\n      <img\n        className=\"lgtm-avatar__img\"\n        src={avatarUrl}\n        alt={login}\n        width={size}\n        height={size}\n        loading=\"lazy\"\n      />\n    </span>\n  );\n}\n","\ntype StatusType = \"success\" | \"failure\" | \"pending\" | \"none\";\n\ninterface StatusIconProps {\n  status: StatusType;\n  title?: string;\n}\n\nconst iconMap: Record<StatusType, string> = {\n  success: \"\\u2713\",\n  failure: \"\\u2717\",\n  pending: \"\\u25CF\",\n  none: \"\\u2014\",\n};\n\nexport function StatusIcon({ status, title }: StatusIconProps) {\n  return (\n    <span\n      className={`lgtm-status-icon lgtm-status-icon--${status}`}\n      title={title}\n      role=\"img\"\n      aria-label={title ?? status}\n    >\n      {iconMap[status]}\n    </span>\n  );\n}\n\n/** Map CIState to StatusType */\nexport function ciStatusToType(\n  ciState: \"SUCCESS\" | \"FAILURE\" | \"PENDING\" | \"NONE\"\n): StatusType {\n  switch (ciState) {\n    case \"SUCCESS\":\n      return \"success\";\n    case \"FAILURE\":\n      return \"failure\";\n    case \"PENDING\":\n      return \"pending\";\n    default:\n      return \"none\";\n  }\n}\n\n/** Map ReviewDecision to StatusType */\nexport function reviewStatusToType(\n  decision: \"APPROVED\" | \"CHANGES_REQUESTED\" | \"REVIEW_REQUIRED\" | null\n): StatusType {\n  switch (decision) {\n    case \"APPROVED\":\n      return \"success\";\n    case \"CHANGES_REQUESTED\":\n      return \"failure\";\n    case \"REVIEW_REQUIRED\":\n      return \"pending\";\n    default:\n      return \"none\";\n  }\n}\n\n/** Map MergeableState to StatusType */\nexport function mergeStatusToType(\n  mergeable: \"MERGEABLE\" | \"CONFLICTING\" | \"UNKNOWN\"\n): StatusType {\n  switch (mergeable) {\n    case \"MERGEABLE\":\n      return \"success\";\n    case \"CONFLICTING\":\n      return \"failure\";\n    default:\n      return \"none\";\n  }\n}\n","import type { NormalizedPR } from \"../types\";\nimport { useRelativeTime } from \"../hooks/useRelativeTime\";\nimport { Avatar } from \"./common/Avatar\";\nimport {\n  StatusIcon,\n  ciStatusToType,\n  reviewStatusToType,\n  mergeStatusToType,\n} from \"./common/StatusIcon\";\n\ninterface PRRowProps {\n  pr: NormalizedPR;\n}\n\nexport function PRRow({ pr }: PRRowProps) {\n  const relativeTime = useRelativeTime(pr.updatedAt);\n\n  return (\n    <div className=\"lgtm-pr-row\">\n      {/* Unread indicator */}\n      <span\n        className={`lgtm-pr-row__unread${pr.isUnread ? \" lgtm-pr-row__unread--active\" : \"\"}`}\n      />\n\n      {/* Author avatar */}\n      <div className=\"lgtm-pr-row__author\">\n        <Avatar\n          login={pr.author.login}\n          avatarUrl={pr.author.avatarUrl}\n          size={24}\n        />\n      </div>\n\n      {/* Title + subtitle */}\n      <div className=\"lgtm-pr-row__info\">\n        <a\n          className=\"lgtm-pr-row__title\"\n          href={pr.url}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          title={pr.title}\n        >\n          {pr.title}\n          {pr.isDraft && <span className=\"lgtm-pr-row__draft-badge\">Draft</span>}\n        </a>\n        <div className=\"lgtm-pr-row__subtitle\">\n          {pr.repo}#{pr.number}\n        </div>\n      </div>\n\n      {/* CI status */}\n      <div className=\"lgtm-pr-row__ci\">\n        <StatusIcon\n          status={ciStatusToType(pr.ciState)}\n          title={`CI: ${pr.ciState.toLowerCase()}`}\n        />\n      </div>\n\n      {/* Review status + reviewer avatars */}\n      <div className=\"lgtm-pr-row__reviews\">\n        <StatusIcon\n          status={reviewStatusToType(pr.reviewDecision)}\n          title={\n            pr.reviewDecision\n              ? `Review: ${pr.reviewDecision.toLowerCase().replace(\"_\", \" \")}`\n              : \"No reviews\"\n          }\n        />\n        {pr.reviewers.length > 0 && (\n          <div className=\"lgtm-reviewer-stack\">\n            {pr.reviewers.slice(0, 3).map((reviewer) => (\n              <span\n                key={reviewer.login}\n                className=\"lgtm-reviewer-stack__item\"\n              >\n                <Avatar\n                  login={reviewer.login}\n                  avatarUrl={reviewer.avatarUrl}\n                  size={18}\n                />\n              </span>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Merge status */}\n      <div className=\"lgtm-pr-row__merge\">\n        <StatusIcon\n          status={mergeStatusToType(pr.mergeable)}\n          title={`Merge: ${pr.mergeable.toLowerCase()}`}\n        />\n      </div>\n\n      {/* Lines changed */}\n      <div className=\"lgtm-pr-row__lines\">\n        <span className=\"lgtm-pr-row__additions\">+{pr.additions}</span>\n        <span className=\"lgtm-pr-row__deletions\">-{pr.deletions}</span>\n      </div>\n\n      {/* Relative time */}\n      <div className=\"lgtm-pr-row__time\">{relativeTime}</div>\n    </div>\n  );\n}\n","\ninterface EmptyStateProps {\n  message?: string;\n}\n\nexport function EmptyState({\n  message = \"No pull requests\",\n}: EmptyStateProps) {\n  return <div className=\"lgtm-empty-state\">{message}</div>;\n}\n","import { useDashboardContext } from \"../context/DashboardContext\";\n\ninterface SettingsModalProps {\n  onClose: () => void;\n}\n\nexport function SettingsModal({ onClose }: SettingsModalProps) {\n  const { settings, dispatch } = useDashboardContext();\n\n  const handleThemeChange = (theme: \"light\" | \"dark\" | \"auto\") => {\n    dispatch({\n      type: \"UPDATE_SETTINGS\",\n      payload: { theme },\n    });\n  };\n\n  return (\n    <div className=\"lgtm-modal-overlay\" onClick={onClose}>\n      <div className=\"lgtm-modal\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"lgtm-modal__header\">\n          <h3 className=\"lgtm-modal__title\">Settings</h3>\n          <button className=\"lgtm-modal__close\" onClick={onClose}>\n            &times;\n          </button>\n        </div>\n\n        <div className=\"lgtm-modal__section\">\n          <label className=\"lgtm-modal__label\">Theme</label>\n          <div className=\"lgtm-modal__radio-group\">\n            <label className=\"lgtm-modal__radio-label\">\n              <input\n                type=\"radio\"\n                name=\"theme\"\n                value=\"light\"\n                checked={settings.theme === \"light\"}\n                onChange={() => handleThemeChange(\"light\")}\n              />\n              Light\n            </label>\n            <label className=\"lgtm-modal__radio-label\">\n              <input\n                type=\"radio\"\n                name=\"theme\"\n                value=\"dark\"\n                checked={settings.theme === \"dark\"}\n                onChange={() => handleThemeChange(\"dark\")}\n              />\n              Dark\n            </label>\n            <label className=\"lgtm-modal__radio-label\">\n              <input\n                type=\"radio\"\n                name=\"theme\"\n                value=\"auto\"\n                checked={settings.theme === \"auto\"}\n                onChange={() => handleThemeChange(\"auto\")}\n              />\n              System\n            </label>\n          </div>\n        </div>\n\n        <div className=\"lgtm-modal__actions\">\n          <button className=\"lgtm-btn\" onClick={onClose}>\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useState, type ReactNode } from \"react\";\nimport { useDashboardContext } from \"../context/DashboardContext\";\n\ninterface ThemeWrapperProps {\n  children: ReactNode;\n}\n\nfunction useResolvedTheme(theme: \"light\" | \"dark\" | \"auto\"): \"light\" | \"dark\" {\n  const [systemDark, setSystemDark] = useState(() => {\n    if (typeof window === \"undefined\") return false;\n    return window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n  });\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n\n    const mql = window.matchMedia(\"(prefers-color-scheme: dark)\");\n    const handler = (e: MediaQueryListEvent) => setSystemDark(e.matches);\n\n    mql.addEventListener(\"change\", handler);\n    return () => mql.removeEventListener(\"change\", handler);\n  }, []);\n\n  if (theme === \"auto\") {\n    return systemDark ? \"dark\" : \"light\";\n  }\n  return theme;\n}\n\nexport function ThemeWrapper({ children }: ThemeWrapperProps) {\n  const { settings } = useDashboardContext();\n  const resolvedTheme = useResolvedTheme(settings.theme);\n\n  return (\n    <div className=\"lgtm-dashboard\" data-theme={resolvedTheme}>\n      {children}\n    </div>\n  );\n}\n","import type { StorageAdapter, AuthAdapter } from \"../types\";\nimport { AdapterProvider } from \"../context/AdapterContext\";\nimport { AuthProvider } from \"../context/AuthProvider\";\nimport { DashboardProvider } from \"../context/DashboardContext\";\nimport { UnreadProvider } from \"../context/UnreadContext\";\nimport { CurrentUserProvider } from \"../context/CurrentUserContext\";\nimport { ErrorBoundary } from \"./ErrorBoundary\";\nimport { AuthGate } from \"./AuthGate\";\nimport { PRDashboard } from \"./PRDashboard\";\nimport { ThemeWrapper } from \"./ThemeWrapper\";\nimport \"../styles/dashboard.css\";\n\nexport interface LGTMProps {\n  adapters: {\n    storage: StorageAdapter;\n    auth: AuthAdapter;\n  };\n  currentUser: string;\n  onError?: (error: Error) => void;\n}\n\nexport function LGTM({ adapters, currentUser, onError }: LGTMProps) {\n  return (\n    <AdapterProvider storage={adapters.storage} auth={adapters.auth}>\n      <AuthProvider>\n        <DashboardProvider>\n          <UnreadProvider>\n            <CurrentUserProvider currentUser={currentUser}>\n              <ErrorBoundary onError={onError}>\n                <ThemeWrapper>\n                  <AuthGate>\n                    <PRDashboard />\n                  </AuthGate>\n                </ThemeWrapper>\n              </ErrorBoundary>\n            </CurrentUserProvider>\n          </UnreadProvider>\n        </DashboardProvider>\n      </AuthProvider>\n    </AdapterProvider>\n  );\n}\n"],"mappings":"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","names":["createContext","useContext","jsx","createContext","useContext","createContext","useContext","useEffect","jsx","createContext","useEffect","useContext","createContext","useContext","useState","useEffect","useCallback","useRef","jsx","createContext","useState","useRef","useCallback","useEffect","useContext","createContext","useContext","jsx","jsx","useState","jsx","jsx","jsxs","useState","useState","useMemo","useCallback","useState","useEffect","useCallback","useRef","useState","useRef","useCallback","useEffect","jsx","jsxs","jsx","jsxs","useState","useEffect","jsx","jsx","jsx","jsxs","jsx","Fragment","jsx","jsxs","useCallback","jsx","jsxs","Fragment","jsx","jsxs","useState","useMemo","useEffect","useState","jsx","useState","useEffect","jsx"]}